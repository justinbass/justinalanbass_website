<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0053)file:///C:/Users/Justin/Desktop/IMAP_mail_server.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>IMAP mail server</title><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7"><meta name="description" content=""><meta name="Keywords" content=""><meta http-equiv="imagetoolbar" content="false"><link rel="stylesheet" href="./IMAP mail server_files/custom_1369513646366.css" type="text/css"><style type="text/css">

* html #body #edge-left {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/box_middle.png", sizingMethod="scale", enabled=true);
}
* html #body #corner-tl {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/top_left.png", sizingMethod="scale", enabled=true);
}
* html #body #corner-tr {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/top_right.png", sizingMethod="scale", enabled=true);
}
* html #body #corner-bl {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/bottom_left.png", sizingMethod="scale", enabled=true);
}
* html #body #corner-br {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/bottom_right.png", sizingMethod="scale", enabled=true);
}
* html #body #edge-left {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/left.png", sizingMethod="scale", enabled=true);
}
* html #body #edge-right {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/right.png", sizingMethod="scale", enabled=true);
}
* html #body #edge-bottom {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/bottom.png", sizingMethod="scale", enabled=true);
}
* html #body .menupoint_active_bottom {
	background-image: none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/menupoint_active_bottom.png");
}
* html #body .menupoint3_active_bottom {
	background-image:none;
	filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="designs/design1007/color1/images/menupoint3_active_bottom.png");
}
        	</style><style type="text/css"></style><style type="text/css"></style></head><body><script src="./IMAP mail server_files/mm.js" language="JavaScript" type="text/javascript"></script><div id="body"><a id="top"><img src="./IMAP mail server_files/i.gif" alt=""></a><table id="big_wrap" cellpadding="0" cellspacing="0" border="0"><tbody><tr><td><img id="logo" name="logo" src="./IMAP mail server_files/i.gif" alt=""></td><td><img id="slogan" name="slogan" src="./IMAP mail server_files/slogan_1007_1_1533243625.png" alt="" width="730" height="150"></td></tr><tr><td valign="top" width="150" style="position: relative;"><div id="menu"><div class="menupoint menupoint_level1 menupoint_v3"><a onmouseout="MM_swapImgRestore()" onmouseover="
        MM_swapImage(&#39;menuimg15000772&#39;,&#39;&#39;
        ,&#39;mediapool/133/1335884/resources/tree/15000772_544245452a.png&#39;,1)
      " href="http://linuxcampaign.com/index.html"><img border="0" src="./IMAP mail server_files/15000772_544245452.png" alt="Raspberry Pi" title="Raspberry Pi" name="menuimg15000772"></a><script type="text/javascript">MM_preloadImages('mediapool/133/1335884/resources/tree/15000772_544245452a.png')</script></div><div class="menupoint menupoint_level1 menupoint_v3"><img border="0" src="./IMAP mail server_files/15863186_350699332c.png" alt="IMAP mail server" title="IMAP mail server" name="menuimg15863186"><div class="menupoint3_active_bottom"></div></div><div class="menupoint menupoint_level1 menupoint_v3"><a onmouseout="MM_swapImgRestore()" onmouseover="
        MM_swapImage(&#39;menuimg15864831&#39;,&#39;&#39;
        ,&#39;mediapool/133/1335884/resources/tree/15864831_451396540a.png&#39;,1)
      " href="http://linuxcampaign.com/external-hard-disk.html"><img border="0" src="./IMAP mail server_files/15864831_451396540.png" alt="External hard disk" title="External hard disk" name="menuimg15864831"></a><script type="text/javascript">MM_preloadImages('mediapool/133/1335884/resources/tree/15864831_451396540a.png')</script></div><div class="menupoint menupoint_level1 menupoint_v3"><a onmouseout="MM_swapImgRestore()" onmouseover="
        MM_swapImage(&#39;menuimg15864995&#39;,&#39;&#39;
        ,&#39;mediapool/133/1335884/resources/tree/15864995_1837356943a.png&#39;,1)
      " href="http://linuxcampaign.com/file-media-server.html"><img border="0" src="./IMAP mail server_files/15864995_1837356943.png" alt="File &amp; Media Server" title="File &amp; Media Server" name="menuimg15864995"></a><script type="text/javascript">MM_preloadImages('mediapool/133/1335884/resources/tree/15864995_1837356943a.png')</script></div><div class="menupoint menupoint_level1 menupoint_v3"><a onmouseout="MM_swapImgRestore()" onmouseover="
        MM_swapImage(&#39;menuimg15874945&#39;,&#39;&#39;
        ,&#39;mediapool/133/1335884/resources/tree/15874945_50438433a.png&#39;,1)
      " href="http://linuxcampaign.com/imprint.html"><img border="0" src="./IMAP mail server_files/15874945_50438433.png" alt="Imprint" title="Imprint" name="menuimg15874945"></a><script type="text/javascript">MM_preloadImages('mediapool/133/1335884/resources/tree/15874945_50438433a.png')</script></div><script type="text/javascript">
		if (typeof document.all != 'undefined') {
			var counter = document.getElementById('vcounter');
			if (counter) {
				if (counter.parentNode) {
					var tdAboveCounterWidth = counter.parentNode.getAttribute("width");
					if (tdAboveCounterWidth) {
						counter.style.width = tdAboveCounterWidth;
					}
				}
			}
		}
		</script></div><div class="bot" id="company_and_email"></div></td><td valign="top"><table width="800" cellpadding="0" cellspacing="0" border="0"><tbody><tr><td id="corner-tl"><img src="./IMAP mail server_files/i.gif" alt="" width="30" height="16"></td><td id="edge-top"></td><td id="corner-tr"></td></tr><tr><td id="edge-left" style="position: relative;"></td><td id="center" valign="top"><div id="content_wrap"><table width="100%" border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
<td width="100%">
<div align="left"><p>TUTORIAL - How to install IMAP mail server on Raspberry Pi single-board computer</p><p>&nbsp;</p><p>Prerequisites:&nbsp;Raspbian “wheezy” installed on Raspberry Pi (<a style="text-decoration: underline; " href="http://www.raspberrypi.org/downloads"><font color="#0000FF" style="text-decoration: underline;">http://www.raspberrypi.org/downloads</font></a>)</p><div><div>&nbsp;</div><div><b>STEP 1 - ENABLE IPV6:</b></div><div>&nbsp;</div> <div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo modprobe ipv6</b></div> <div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/modules</b></div> <div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>[add:]</i></div><div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><b>ipv6</b></div> <div style="margin-left: 40px; ">&nbsp;</div></div><div><div style="margin-left: 40px; "><i>CONTROL-O [Enter]</i></div> <div style="margin-left: 40px; "><div><i>CONTROL-X</i></div><div>&nbsp;</div></div> <div><b>STEP 2 - INSTALL DOVECOT, POSTFIX AND FETCHMAIL:</b></div><div>&nbsp;</div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo apt-get install dovecot-common dovecot-imapd&nbsp;</b><b>postfix&nbsp;</b><b>fetchmail</b></div><div>&nbsp;</div><div>Accept default settings.</div></div><div><div>&nbsp;</div><div><b>STEP 3 - CREATE MAILDIR FOLDER(S):</b></div><div>&nbsp;</div><div>Create a Maildir folder for user pi:</div><div>&nbsp;</div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo maildirmake.dovecot /etc/skel/Maildir</b></div></div><div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo maildirmake.dovecot /etc/skel/Maildir/.Drafts</b></div></div><div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo maildirmake.dovecot /etc/skel/Maildir/.Sent</b></div></div><div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo maildirmake.dovecot /etc/skel/Maildir/.Trash</b></div></div><div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo maildirmake.dovecot /etc/skel/Maildir/.Templates</b></div></div><div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo cp -R /etc/skel/Maildir /home/pi/</b></div></div><div><div><i>pi@raspberrypi ~ $ </i><b>sudo chown -R pi:pi /home/pi/Maildir</b></div></div><div><div>&nbsp;</div><div>Add user jenny:</div><div>&nbsp;</div><div><i>pi@raspberrypi ~ $</i> <b>sudo useradd -d /home/jenny -m jenny</b></div><div>&nbsp;</div><div>Change passwords:</div><div>&nbsp;</div><div><i>pi@raspberrypi ~ $</i> <b>sudo passwd pi</b></div><div><i>pi@raspberrypi ~ $</i> <b>sudo passwd jenny</b></div><div>&nbsp;</div><div><b>STEP 4 - CONFIGURE FETCHMAIL:</b></div><div>&nbsp;</div><div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/fetchmailrc</b></div><div style="margin-left: 40px;">&nbsp;</div><div style="margin-left: 40px;"><i>[add:]</i></div><div style="margin-left: 40px;">&nbsp;</div><div><div style="margin-left: 40px;"><b>set syslog</b></div><div style="margin-left: 40px;"><b>set daemon 60</b></div><div style="margin-left: 40px;">&nbsp;</div><div style="margin-left: 40px;"><div><b>poll POP3SERVER&nbsp;with protocol POP3:</b></div><div><b>user "EMAIL_ADDRESS_PI", password "EMAIL_PASSWORD_PI", is pi&nbsp;here ssl</b></div><div>&nbsp;</div><div><b>poll ANOTHER_POP3SERVER with protocol POP3:</b></div><div><b>user "EMAIL_ADDRESS_JENNY", password "EMAIL_PASSWORD_JENNY", is jenny here ssl</b></div><div>&nbsp;</div><div><div><i>CONTROL-O [Enter]</i></div><div><i>CONTROL-X</i></div><div>&nbsp;</div></div></div></div></div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo chmod 600 /etc/fetchmailrc</b></div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/default/fetchmail</b></div></div><div><div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>[edit:]</i></div><div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><b>START_DAEMON=yes</b></div> <div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><div><i>CONTROL-O [Enter]</i></div> <div><i>CONTROL-X</i></div></div></div><div><p>&nbsp;</p><p><b>STEP 5 - CONFIGURE POSTFIX:</b></p><div>&nbsp;</div><div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/postfix/main.cf</b></div><div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>[add:]</i></div><div style="margin-left: 40px; ">&nbsp;</div><div><div style="margin-left: 40px; "><div><b>home_mailbox = Maildir/</b></div><div><b>mailbox_command = /usr/lib/dovecot/deliver</b></div><div><b>smtp_generic_maps = hash:/etc/postfix/generic</b></div><div>&nbsp;</div></div><div style="margin-left: 40px; "><i>CONTROL-O [Enter]</i></div><div style="margin-left: 40px; "><i>CONTROL-X</i></div><div style="margin-left: 40px; ">&nbsp;</div></div></div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/aliases</b></div><div><div><div style="margin-left: 40px;">&nbsp;</div><div style="margin-left: 40px;"><i>[add:]</i></div><div style="margin-left: 40px;">&nbsp;</div><div style="margin-left: 40px;"><b>root: pi</b></div><div style="margin-left: 40px;">&nbsp;</div><div><div style="margin-left: 40px;"><i>CONTROL-O [Enter]</i></div><div style="margin-left: 40px;"><i>CONTROL-X</i></div><div style="margin-left: 40px;">&nbsp;</div></div></div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo newaliases</b></div><div>&nbsp;</div><div>Correlate users with their email addresses:</div><div>&nbsp;</div><div><div><i>pi@raspberrypi ~ $</i> <b>sudo nano /etc/postfix/generic</b></div><div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>[add:]</i></div><div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><b>pi@local.domain &nbsp; &nbsp; &nbsp; &nbsp; EMAIL_ADDRESS_PI</b></div><div style="margin-left: 40px; "><b>jenny@local.domain &nbsp; EMAIL_ADDRESS_JENNY</b></div><div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>CONTROL-O [ENTER]</i></div><div style="margin-left: 40px; "><i>CONTROL-X</i></div><div style="margin-left: 40px; ">&nbsp;</div></div></div> <div><i>pi@raspberrypi ~ $</i> <b>sudo postmap /etc/postfix/generic</b></div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo /etc/init.d/postfix restart</b></div> <div>&nbsp;</div><div><b>STEP 6 - CONFIGURE DOVECOT:</b></div><p>&nbsp;</p></div><div><div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/dovecot/dovecot.conf</b></div> <div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>[edit:]</i></div><div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><b>listen = *</b></div> <div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><div><i>CONTROL-O [Enter]</i></div> <div><i>CONTROL-X</i></div><div>&nbsp;</div></div></div> <div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/dovecot/conf.d/10-mail.conf</b></div> <div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>[edit:]</i></div><div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><b>mail_location = maildir:/home/%u/Maildir</b></div> <div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><div><i>CONTROL-O [Enter]</i></div> <div><i>CONTROL-X</i></div><div>&nbsp;</div></div></div> <div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/dovecot/conf.d/10-ssl.conf</b></div> <div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>[edit:]</i></div><div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><b>ssl = required</b></div> <div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><div><i>CONTROL-O [Enter]</i></div> <div><i>CONTROL-X</i></div><div>&nbsp;</div></div></div> <div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo nano /etc/dovecot/conf.d/15-lda.conf</b></div> <div style="margin-left: 40px; ">&nbsp;</div><div style="margin-left: 40px; "><i>[edit:]</i></div><div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><b>postmaster_address = pi@localhost</b></div> <div style="margin-left: 40px; "><b>mail_plugins = sieve</b></div> <div style="margin-left: 40px; ">&nbsp;</div> <div style="margin-left: 40px; "><div><i>CONTROL-O [Enter]</i></div> <div><i>CONTROL-X</i></div><div>&nbsp;</div></div></div> <div><div><i>pi@raspberrypi ~ $&nbsp;</i><b>sudo /etc/init.d/dovecot restart</b></div></div></div></div>
</td>
</tr>
<tr>
<td valign="top"><img src="./IMAP mail server_files/i.gif" width="462" height="1" alt=""></td>
</tr>
</tbody></table>
<br><br><a href="http://linuxcampaign.com/imap-mail-server.html#top" id="totop"></a></div></td><td id="edge-right"><img src="./IMAP mail server_files/i.gif" alt="" width="20" height="480"></td></tr><tr><td id="corner-bl"></td><td id="edge-bottom"><img src="./IMAP mail server_files/i.gif" alt="" width="800" height="20"></td><td id="corner-br"><img src="./IMAP mail server_files/i.gif" alt="" width="20" height="15"></td></tr></tbody></table></td></tr></tbody></table></div></body></html>